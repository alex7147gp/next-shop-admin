(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{2048:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/edit/[id]",function(){return n(9820)}])},327:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5893),s=n(7294),i=n(1163),o=n(9797);function a(e){var t=e.setOpen,n=e.setAlert,a=e.product,c=(0,s.useRef)(null),l=(0,i.useRouter)();return(0,r.jsx)("form",{ref:c,onSubmit:function(e){e.preventDefault();var r=new FormData(c.current),s={title:r.get("title"),price:parseInt(r.get("price")),description:r.get("description"),categoryId:parseInt(r.get("category")),images:[r.get("images").name]};a?(0,o.Js)(a.id,s).then((function(){return l.push("/dashboard/products/")})).catch((function(e){return console.log(e)})):(0,o.gK)().then((function(){n({active:!0,message:"Product added successfully",type:"success",autoClose:!1}),t(!1)})).catch((function(e){n({active:!0,message:e.message,type:"error",autoClose:!1})}))},children:(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,r.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,r.jsx)("input",{defaultValue:null===a||void 0===a?void 0:a.title,type:"text",name:"title",id:"title",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,r.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price"}),(0,r.jsx)("input",{defaultValue:null===a||void 0===a?void 0:a.price,type:"number",name:"price",id:"price",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{className:"col-span-6",children:[(0,r.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,r.jsxs)("select",{id:"category",name:"category",defaultValue:null===a||void 0===a?void 0:a.category,autoComplete:"category-name",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"1",children:"Clothes"}),(0,r.jsx)("option",{value:"2",children:"Electronics"}),(0,r.jsx)("option",{value:"3",children:"Furniture"}),(0,r.jsx)("option",{value:"4",children:"Toys"}),(0,r.jsx)("option",{value:"5",children:"Others"})]})]}),(0,r.jsxs)("div",{className:"col-span-6",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{name:"description",id:"description",defaultValue:null===a||void 0===a?void 0:a.description,autoComplete:"description",rows:"3",className:"form-textarea mt-1 block w-full mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,r.jsx)("div",{className:"col-span-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cover-photo",className:"block text-sm font-medium text-gray-700",children:"Cover photo"}),(0,r.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,r.jsxs)("div",{className:"space-y-1 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,r.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,r.jsxs)("label",{htmlFor:"images",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[(0,r.jsx)("span",{children:"Upload a file"}),(0,r.jsx)("input",{defaultValue:null===a||void 0===a?void 0:a.images,id:"images",name:"images",type:"file",className:"sr-only"})]}),(0,r.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})})]})}),(0,r.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:(0,r.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})})]})})}},9820:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7568),s=n(655),i=n(5893),o=n(7294),a=n(327),c=n(1163),l=n(196),d=n(788);function u(){var e=(0,o.useState)({}),t=e[0],n=e[1],u=(0,o.useState)(null),m=u[0],p=u[1],h=(0,c.useRouter)();return(0,o.useEffect)((function(){var e=h.query.id;function t(){return(t=(0,r.Z)((function(){var t,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,l.Z.get(d.Z.product.getProduct(e))];case 1:return t=s.sent(),n(t.data),p(!1),[3,3];case 2:return r=s.sent(),console.log(r),p(!0),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}h.isReady&&function(){t.apply(this,arguments)}()}),[null===h||void 0===h?void 0:h.isReady]),m?(0,i.jsx)("h1",{children:"Page not Fount, check id"}):(0,i.jsx)(a.Z,{product:t})}},9797:function(e,t,n){"use strict";n.d(t,{F2:function(){return c},Js:function(){return l},gK:function(){return a}});var r=n(7568),s=n(655),i=n(196),o=n(788),a=function(){var e=(0,r.Z)((function(e){var t;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return t={headers:{accept:"*/*","Content-Type":"application/json"}},[4,i.Z.post(o.Z.product.addProducts,e,t)];case 1:return[2,n.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,i.Z.delete(o.Z.product.deleteProduct(e))];case 1:return[2,t.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)((function(e,t){var n;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return n={headers:{accept:"*/*","Content-Type":"application/json"}},[4,i.Z.put(o.Z.product.updateProduct(e),t,n)];case 1:return[2,r.sent().data]}}))}));return function(t,n){return e.apply(this,arguments)}}()}},function(e){e.O(0,[774,888,179],(function(){return t=2048,e(e.s=t);var t}));var t=e.O();_N_E=t}]);